import{r as h,w as T,c as t,G as b,A as u,b as C,d as s,f as k,ba as V,F as p,aP as y,t as _,H as N,e as n,i as S,as as X}from"./index-db496ab7.js";const P={class:"element"},D=n("span",{class:"element__bracket"},"</",-1),L={class:"element__name"},M=n("span",{class:"element__bracket"},">",-1),R={__name:"CloseTag",props:{name:{type:String}},setup(l){return(a,o)=>(t(),s("div",P,[D,n("span",L,_(l.name),1),M]))}},j={class:"attribute"},z={class:"attribute__name"},E={class:"attribute__value"},G={__name:"AttributesComponent",props:{value:{type:String},name:{type:String}},setup(l){return(a,o)=>(t(),s("div",j,[n("span",z,_(l.name)+"= ",1),n("span",E,' "'+_(l.value)+'" ',1)]))}},H={class:"element"},U=n("span",{class:"element__bracket"},"<",-1),$={class:"element__attributes"},q={key:0,class:"element__bracket"},I=n("span",{class:"element__bracket--close"},">",-1),J={__name:"OpenTag",props:{attribures:{type:Array},isSelfClosing:{type:Boolean,default:!1},name:{type:String}},emits:["openClose"],setup(l){return(a,o)=>(t(),s("div",H,[U,n("span",{class:"element__name",onClick:o[0]||(o[0]=e=>a.$emit("openClose"))},_(l.name),1),n("div",$,[(t(!0),s(p,null,y(l.attribures,(e,r)=>(t(),b(G,{name:e.name,value:e.value,key:"attr"+r},null,8,["name","value"]))),128))]),l.isSelfClosing?(t(),s("span",q,"/")):N("",!0),I]))}},K={key:0,class:"tag__content"},Q={class:"tag__child"},W={class:"remark__content"},Y={key:1,class:"tag__content"},Z={__name:"XmlTag",props:{node:Element,isShort:Boolean},setup(l){const a=l;console.log(a.node);const o=u(()=>a.node.nodeName),e=u(()=>Array.from(a.node.childNodes)),r=u(()=>e.value&&e.value.filter(i=>i.nodeType===1)),c=u(()=>e.value&&e.value.filter(i=>i.nodeType===3)),d=u(()=>e.value&&e.value.filter(i=>i.nodeType===4)),v=u(()=>e.value&&e.value.filter(i=>i.nodeType===8)),B=u(()=>a.node.attributes&&Array.from(a.node.attributes)||[]),x=h(!0),w=u(()=>!r.value.length&&c.value.length),A=!r.value.length&&!c.value.length&&!d.value.length&&!v.value.length,F=u(()=>a.isShort&&w.value);return(i,f)=>{const O=C("XmlTag",!0);return t(),s("div",{class:X(["tag",{"tag--short":F.value}])},[k(J,{name:o.value,"is-self-closing":V(A),attribures:B.value,onOpenClose:f[0]||(f[0]=m=>x.value=!x.value)},null,8,["name","is-self-closing","attribures"]),x.value?(t(),s(p,{key:0},[(t(!0),s(p,null,y(c.value,(m,g)=>(t(),s(p,{key:"content"+g},[m.nodeValue?(t(),s("div",K,_(m.nodeValue),1)):N("",!0)],64))),128)),n("div",Q,[(t(!0),s(p,null,y(r.value,(m,g)=>(t(),b(O,{key:`e${g}`,node:m,"is-short":l.isShort},null,8,["node","is-short"]))),128)),(t(!0),s(p,null,y(v.value,(m,g)=>(t(),s("div",{class:"remark",key:"rem"+g},[S(" <!-- "),n("pre",W,_(m.textContent),1),S(" --> ")]))),128))])],64)):(t(),s("div",Y,"...")),k(R,{name:o.value},null,8,["name"])],2)}}},ee={__name:"PrettyXml",props:{xml:{type:String},options:{type:Object}},setup(l){const a=l,o=new DOMParser,e=h(),r=c=>{const d=o.parseFromString(c,"application/xml").childNodes[0];e.value=d};return T(()=>a.xml,c=>{r(c)}),r(a.xml),(c,d)=>{var v;return t(),b(Z,{node:e.value,"is-short":(v=l.options)==null?void 0:v.shortRecord},null,8,["node","is-short"])}}};const te={class:"grid"},ae={class:"col-12 xl:col-12"},le={class:"card"},se={class:"col-12 xl:col-12"},ne={class:"card"},re={__name:"XMLFormatter",setup(l){const a=h(""),o=h("<xml></xml>");return T(a,(e,r)=>{e===""?o.value="<xml></xml>":o.value=e}),(e,r)=>{const c=C("Textarea");return t(),s("div",te,[n("div",ae,[n("div",le,[k(c,{style:{width:"100%"},modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=d=>a.value=d),rows:"10",cols:"100"},null,8,["modelValue"])])]),n("div",se,[n("div",ne,[k(V(ee),{xml:o.value,options:{shortRecord:!0}},null,8,["xml"])])])])}}};export{re as default};
